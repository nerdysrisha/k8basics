az vm list-skus --resource-type virtualMachines --query "[?starts_with(name, 'DCa') && contains(capabilities[?name=='ConfidentialComputeType'].value | [0], 'SEV-SNP')].{Name:name, Regions:locations}" --output table


az vm list-skus --resource-type virtualMachines --query "[?contains(capabilities[?name=='ConfidentialComputeType'].value | [0], 'SEV-SNP')].{Name:name, Regions:locations}" --output table

#List all sizes with that name
az vm list-skus --resource-type virtualMachines --query "[?name=='Standard_DC16as_v5'].{Name:name, Regions:locations}" --output table

#List which region supports confidential VMs
az vm list-skus --resource-type virtualMachines --query "[?name=='Standard_DC16as_v5'].locations" --output table


#Check permissions 

az role assignment list --assignee $(az ad signed-in-user show --query objectId -o tsv) --output table
